# 🌊 骁流 (Flow State)

**智能化的深度专注力辅助工具**

Flow State 是一个旨在帮助用户量化心流状态、识别注意力模式并提供实时反馈的桌面应用。它不仅仅是一个时间追踪器，更是一个能够“理解”你正在做什么的智能助手。通过 AI 模型，它将无形的“专注力”转化为可视化的数据指标，引导你进入并维持高效的心流状态。

## ✨ 核心亮点

*   **🧠 AI 驱动的语义理解**
    区别于传统的黑白名单机制，Flow State 利用本地大模型（Ollama）深度理解你的屏幕活动。它能区分你在 GitHub 上是在“查阅文档”还是在 Bilibili 上“观看教程”，而非简单地屏蔽整个浏览器。

*   **🎯 全景行为捕捉与量化**
    *   **实时监控**：精准记录当前活跃窗口与进程。
    *   **多维指标**：独创“意志力胜利”、“效能指数”、“碎片率”等高阶指标，全方位评估工作质量。

*   **🧘 沉浸式无感交互**
    *   **桌面悬浮球**：便捷式桌面交互功能，极简且不打扰。
    *   **专注卡片**：鼠标悬停即可查看详细的任务摘要与持续时长。
    *   **智能干预**：在检测到长时间娱乐或过度疲劳时，提供柔性的提醒。

*   **🔒 隐私优先，完全本地化**
    所有数据存储在本地 SQLite 数据库中，AI 分析可选择通过本地 Ollama 服务完成。你的屏幕活动隐私完全掌握在自己手中，无需上传云端。

*   **📊 深度复盘报告**
    自动生成每日专注度报告，提供可视化的时间轴回顾和 AI 生成的每日洞察，帮助你复盘当日工作状态。

## 🚀 快速开始

### 1. 环境准备
*   **Python 3.8+**
*   **Ollama**: 请确保已安装 [Ollama](https://ollama.com/) 并下载了相应的模型（程序会自动尝试启动服务）。

### 2. 安装依赖
克隆项目到本地后，在项目根目录下运行：

```bash
pip install -r requirements.txt
```

### 3. 启动应用
在项目根目录下运行：

```bash
python run.py
```
*程序会自动检查并启动 Ollama 服务，随后在桌面显示悬浮球。*

## 🛠️ 技术架构

本项目采用模块化和面向服务的架构设计：

*   **UI 层 (PySide6)**: 负责悬浮球、卡片、报表等界面展示。
*   **业务层 (Services)**:
    *   `monitor_service.py`: 后台监控进程，采集窗口数据。
    *   `detector_logic.py`: 调用 AI 进行行为分析。
*   **数据层 (SQLite)**: 统一的数据持久化管理。
*   **AI 引擎**: 通过本地 Ollama API 进行自然语言处理。

详细目录结构请参阅 [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)。

## 📝 许可证

[MIT License](LICENSE)

---
*让专注成为一种习惯，让心流成为一种常态。*
